{
 "align_labels_right": 0, 
 "creation": "2018-01-04 16:41:55.320266", 
 "css": " body{\n            font-family: sans-serif;\n        }\n        .table-bordered{\n            font-size: 8.5pt;\n        }\n        .border-top {\n            border-top: 3px solid #f47142 !important;\n        }\n        .header_column{\n         position:relative;\n        }\n        .img_logo{\n         position:absolute;\n         left:0;\n        }\n        .company-header-info{\n            font-size: 12px;\n            line-height: 18px;\n            left:0 !important;\n        }\n        .company-header-info h4{\n            font-size: 14px;\n            margin: 5px 0;\n        }\n        .print-tag h5 {\n            margin: 0 0 5px;\t  \n        }\n.doc_title{font-size:22px;}\n.break-table {border-top:0 !important;}\n.break-table .break-table-field {padding:0 6px !important;}\n.break-table-field table.table-bordered {border-top:0 !important;}\n.print-format td.normal-table {padding-bottom:0 !important;}\n.print-format hr{\n    margin-bottom: 5px;\n    margin-top: 5px;\n    border: 1px solid #f47142;\n}\n.table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th, .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n   border: 2px solid #d1d8dd;\n}\n\n.print-format table {\n    margin-bottom: 0px !important;\n    margin-top: 0px !important;\n}\n\n.table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th, .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n    border: 2px solid #d1d8dd;\n}\n.tax-break-up thead {\n   border: 2px solid #d1d8dd;\n}\n.tax-break-up th {\n   text-align:center;\n}\n\n.tax-break-up > table{\nwidth:100%;\n}", 
 "custom_format": 1, 
 "disabled": 0, 
 "doc_type": "Sales Order", 
 "docstatus": 0, 
 "doctype": "Print Format", 
 "font": "Default", 
 "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<body>\n\n{%- macro add_header(page_num, max_pages, doc, letter_head, no_letterhead) -%}\n    {% if letter_head and not no_letterhead %}\n    <div class=\"letter-head\">{{ letter_head }}</div>\n    {% else %}\n       <table width=\"100%\" border=\"0\" style=\"border-collapse:collapse;line-height: 16px;margin-top:75px !important;\">\n</table>\n    {% endif %}\n    \n    {% if max_pages > 1 %}\n    <p class=\"text-right\">{{ _(\"Page #{0} of {1}\").format(page_num, max_pages) }}</p>\n    {% endif %}\n{%- endmacro -%}\n{{ add_header(0,1,doc,letter_head, no_letterhead) }}\n\n{% set event_dict = {} -%}\n{%- for row in doc.items -%}\n\n     {% if not event_dict[row.delivery_date] is defined %}\n\n\t\t{% set x = event_dict.__setitem__(row.delivery_date,{'DETAIL':row.event_detail,'DATE':row.delivery_date,'EVENT_V':row.event_vanue,'FROM':row.from_time,'TO':row.to_time,'ITEMS':{row.item_code:{'RATE':row.rate,'QTY':row.qty,'AMT':row.amount,'VENDOR':row.vendor,'PRICE':row.price,'DESC':row.description,'DELIVERABLE':row.deliverable_type}}}) -%}\n\n    {% else %}\n\n       {% set x = event_dict[row.delivery_date].ITEMS.__setitem__ (row.item_code,{'RATE':row.rate,'QTY':row.qty,'AMT':row.amount,'VENDOR':row.vendor,'PRICE':row.price,'DESC':row.description,'DELIVERABLE':row.deliverable_type}) -%}\n\n    {% endif %}\n{% endfor %}\n\n<table width=\"100%\" border=\"0\" style=\"border-collapse:collapse;line-height: 16px;\">\n<tr>\n<td align = 'left'><div style = \" float: left;\"><b>{% if doc.select_print_heading %}{{ doc.select_print_heading}}{%- endif %}</b></div></td>\n<td align = 'right'><div style = \" float: right;\"><b>INVOICE NO: {{ doc.name}}</b></div></td>\n</tr>\n</table>\n    <table width=\"100%\" border=\"0\" style=\"border-collapse:collapse;line-height: 16px;\">\n\t\t        \n        <tr>\n            <td>\n                <div class=\"table-responsive\">\n                    <table class=\"table table-bordered border-top\" width=\"100%\" border=\"0\" style=\"border-collapse:collapse;width:100%;\">\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td style=\"width:50%;\">\n\t\t\t\t\t\t\t\t{% if doc.customer_name %}<b>Client :</b> {{ doc.customer_name }}&nbsp; <br> {%- endif %}\n\t\t\t\t\t\t\t\t<b>Order Date :</b> {% for event in event_dict.items() %} {{ frappe.utils.get_datetime(event_dict[event[0]].DATE).strftime('%d-%m-%Y') }} | {% endfor %} <br>\n\t\t\t\t\t\t\t\t{% if doc.customer_address %}<b>Email :</b> {{ frappe.db.get_value(\"Address\", doc.customer_address, \"email_id\") }}&nbsp;&nbsp; {%- endif %}<br>\n\n{% if doc.customer_address %}<b>Phone :</b> {{ frappe.db.get_value(\"Address\", doc.customer_address, \"phone\") }}&nbsp;&nbsp; {%- endif %}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td style=\"width:50%;\">\n{% if doc.customer_address %}<b>Address :</b> {% if frappe.db.get_value(\"Address\", doc.customer_address, \"address_line1\") %}{{ frappe.db.get_value(\"Address\", doc.customer_address, \"address_line1\") }}&nbsp;&nbsp;<br> {%- endif %}{%- endif %}\n\n{% if doc.customer_address %} {% if frappe.db.get_value(\"Address\", doc.customer_address, \"address_line2\") %}{{ frappe.db.get_value(\"Address\", doc.customer_address, \"address_line2\") }}&nbsp;&nbsp;<br> {%- endif %}{%- endif %}\n\n{% if doc.customer_address %} {% if frappe.db.get_value(\"Address\", doc.customer_address, \"city\") %}{{ frappe.db.get_value(\"Address\", doc.customer_address, \"city\") }}&nbsp; {% if frappe.db.get_value(\"Address\", doc.customer_address, \"pincode\") %} -&nbsp;{{ frappe.db.get_value(\"Address\", doc.customer_address, \"pincode\") }}{%- endif %}<br> {%- endif %}{%- endif %}\n\n{% if doc.customer_address %} {% if frappe.db.get_value(\"Address\", doc.customer_address, \"state\") %}{{ frappe.db.get_value(\"Address\", doc.customer_address, \"state\") }}&nbsp;&nbsp;<br> {%- endif %}{%- endif %}\n\n{% if doc.customer_address %} {% if frappe.db.get_value(\"Address\", doc.customer_address, \"country\") %}{{ frappe.db.get_value(\"Address\", doc.customer_address, \"country\") }}&nbsp;&nbsp;<br> {%- endif %}{%- endif %}\n\t\t\t \n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t </table>\n\t\t\t\t </div>\n\t\t\t</td>\n\t\t</tr>\n        \n\t  </table>\t \n\n\n\t<table width=\"100%\" border=\"0\" style=\"border-collapse:collapse;line-height: 16px;\">\t\t\t\n\t<tr>\n\t<td>\n\t<div class=\"table-responsive\">\n\t\t<table class=\"table table-bordered border-top\" width=\"100%\" border=\"0\" style=\"border-collapse:collapse;width:100%;\">\n\t\t<tr>\n\t\t\t<th style=\"text-align:left;\">Sr.No</th>\n\t\t\t<th style=\"text-align:left;\">Date</th>\n\t\t\t<th style=\"text-align:left;\">Event Detail</th>\n\t\t\t<th style=\"text-align:left;\">Resources</th>\n\t\t\t<th style=\"text-align:left;\">Amount</th>\n\t\t</tr>\n\t\t\n\t\t\n\t\t{% for event in event_dict.items() %}\n\t\t{% if event_dict[event[0]].DETAIL %}\n\t\t<tr>\n\t\t\t<td style=\"text-align:left;\"> Day-{{ loop.index }}</td>\n\t\t\t\n\t\t\t<td style=\"text-align:left;\">{% if event_dict[event[0]].DATE %}{{ frappe.utils.get_datetime(event_dict[event[0]].DATE).strftime('%d-%m-%Y') }}{% endif %}\n\t\t\t</td>\n\t\t\t\n\t\t\t<td style=\"text-align:left;\">{% if event_dict[event[0]].DETAIL %}{{ event_dict[event[0]].DETAIL }}{% endif %} | {% if event_dict[event[0]].EVENT_V %}{{ event_dict[event[0]].EVENT_V  }}{% endif %}\n\t\t\t</td>\n\t\t\t\n\t\t\t<td style=\"text-align:left;\">\n\t\t\t{% for item in event_dict[event[0]].ITEMS.items() %}\n\t\t\t{% if item[0] %}{% if event_dict[event[0]].ITEMS[item[0]].DELIVERABLE not in ['Album','Video'] %}{{ item[0] }}{% if frappe.db.get_value(\"Item\", item[0], \"gst_hsn_code\") %} </br>SAC CODE :{{ frappe.db.get_value(\"Item\", item[0], \"gst_hsn_code\") }}{% endif %}</br>{% endif %}{% endif %}\n\t\t\t{% endfor %}\n\t\t\t</td>\n\t\t\t\n\t\t\t<td style=\"text-align:left;\">\n\t\t\t{% set day_amt = [0] -%}\n\t\t\t{% for item in event_dict[event[0]].ITEMS.items() %}\n\t\t\t{% if event_dict[event[0]].ITEMS[item[0]].DELIVERABLE not in ['Album','Video'] %}\n\t\t\t\t{% if day_amt.append(day_amt.pop()|float + event_dict[event[0]].ITEMS[item[0]].AMT|float) -%}{% endif %}\n\t\t\t{% endif %}\n\t\t\t{% endfor %}\n\t\t\t{{ '%0.2f' % day_amt[0] | float }}\n\t\t\t</td>\n\t\t</tr>\n\t\t{% endif %}\n\t\t{% endfor %}\n\t\t\n\t\t\n\t\t<tr>\n\t\t\t<td style=\"text-align:left;\"> </td>\n\t\t\t\n\t\t\t<td style=\"text-align:left;\">Deliverable</td>\n\t\t\t\n\t\t\t<td style=\"text-align:left;\"></td>\n\t\t\t\n\t\t\t<td style=\"text-align:left;\">\n\t\t\t{% for event in event_dict.items() %}\n\t\t\t{% for item in event_dict[event[0]].ITEMS.items() %}\n\t\t\t{% if item[0] %}{% if event_dict[event[0]].ITEMS[item[0]].DELIVERABLE in ['Album','Video'] %}{{ item[0] }}-({{ event_dict[event[0]].ITEMS[item[0]].DELIVERABLE }}){% if frappe.db.get_value(\"Item\", item[0], \"gst_hsn_code\") %} </br>SAC CODE :{{ frappe.db.get_value(\"Item\", item[0], \"gst_hsn_code\") }}{% endif %}</br>{% endif %}{% endif %}\n\t\t\t{% endfor %}\n\t\t\t{% endfor %}\n\t\t\t</td>\n\t\t\t\n\t\t\t<td style=\"text-align:left;\">\n\t\t\t{% for event in event_dict.items() %}\n\t\t\t{% set day_amt = [0] -%}\n\t\t\t{% for item in event_dict[event[0]].ITEMS.items() %}\n\t\t\t{% if event_dict[event[0]].ITEMS[item[0]].DELIVERABLE in ['Album','Video'] %}\n\t\t\t\t{% if day_amt.append(day_amt.pop()|float + event_dict[event[0]].ITEMS[item[0]].AMT|float) -%}{% endif %}\n\t\t\t{% endif %}\n\t\t\t{% endfor %}\n\t\t\t{% if loop.index == 1 %}\n\t\t\t{{ '%0.2f' % day_amt[0] | float }}\n\t\t\t{% endif %}\n\t\t\t{% endfor %}\n\t\t\t</td>\n\t\t</tr>\n\t\t\n\t\t\n\t\t<tr>\n\t\t<td colspan = \"4\" style=\"text-align:left;\">\n\t\t<b>E. & O. E. Total</b>\n\t\t</td>\n\t\t<td>\n\t\t<b>\n\t\t{% if doc.total %}{{ doc.total }}{% endif %}\n\t\t</b>\n\t\t</td>\n\t\t</tr>\n\t\t{% if doc.other_charges_calculation %}\n\t\t<tr>\n\t\t<td colspan = \"5\">\n\t\t{{ doc.other_charges_calculation }}\n\t\t</td>\n\t\t</tr>\n\t\t{% endif %}\n\t\t<!--tr>\n\t\t\t<th style=\"text-align:left;\" colspan=\"5\">\n                        <b>Total Amount:</b><div style=\"float:right;\">{% if doc.total %}{{ doc.total }}{% endif %}</div></br>\n                       <b>Discount:</b><div style=\"float:right;\">{% if doc.discount_amount %}{{ doc.discount_amount }}{% else %}{{0.00}}{% endif %}</div></br>\n\t\t\t<b>Taxable Amount:</b><div style=\"float:right;\">{% if doc.net_total %}{{ doc.net_total }}{% endif %}</div></br>\n\t\t\t<b>Taxes & Charges:</b><div style=\"float:right;\">{% if doc.total_taxes_and_charges %}{{ doc.total_taxes_and_charges }}{% endif %}</div></br>\n\t\t\t<b>Total:</b><div style=\"float:right;\">{% if doc.grand_total %}{{ doc.grand_total }}{% endif %}</div>\n\t\t\t</th>\n\t\t</tr -->\n\t\t</table>\n\t</div>\n\t</td>\n\t</tr>\n\t</table>\t\n\n\t\n\t<table width=\"100%\" border=\"0\" style=\"border-collapse:collapse;line-height: 16px;\">\n\t\t        \n        <tr>\n            <td>\n                <div class=\"table-responsive\">\n                    <table class=\"table table-bordered border-top\" width=\"100%\" border=\"0\" style=\"border-collapse:collapse;width:100%;\">\n\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td style=\"width:60%;\" rowspan=\"5\">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td style=\"width:40%;\">\n\t\t\t\t\t\t\t<b>Taxable Amount :</b> <div style=\"float:right;\"><b>{% if doc.net_total %}{{ doc.net_total }}{% endif %}</b></div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<td style=\"width:40%;\">\n\t\t\t\t\t\t\t<b>Discount :</b> <div style=\"float:right;\"><b>{% if doc.discount_amount %}{{ doc.discount_amount }}{% endif %}</b></div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<td style=\"width:40%;\">\n\t\t\t\t\t\t\t<b>Taxes & Charges :</b> <div style=\"float:right;\"><b>{% if doc.total_taxes_and_charges %}{{ doc.total_taxes_and_charges }}{% endif %}</b></div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<td style=\"width:40%;\">\n\t\t\t\t\t\t\t<b>Round off Amount :</b>  <div style=\"float:right;\"><b>{% set rounded_total = doc.grand_total - doc.rounded_total -%}\n                                       {% if rounded_total > 0 %}\n                                        - {{ \"{:,.2f}\".format(rounded_total) }}\n                                       {% elif rounded_total < 0 %}\n                                        {{ \"{:,.2f}\".format(rounded_total|abs) }}\n                                       {% else %}\n                                       {{  \"{:,.2f}\".format(00)  }}\n                                       {% endif %}</b></div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<td style=\"width:40%;\">\n\t\t\t\t\t\t\t<b>Invoice Total :</b>  <div style=\"float:right;\"><b>{% if doc.grand_total %}{{ doc.grand_total }}{% endif %}</b></div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t </table>\n\t\t\t\t </div>\n\t\t\t</td>\n\t\t</tr>\n        \n\t  </table>\t\n\t  \n\t  \n  </body>\n  </html>", 
 "idx": 0, 
 "line_breaks": 0, 
 "modified": "2018-01-22 17:33:54.168964", 
 "modified_by": "Administrator", 
 "module": "Studio", 
 "name": "Day Wise Event Detail", 
 "owner": "Administrator", 
 "print_format_builder": 0, 
 "print_format_type": "Server", 
 "show_section_headings": 0, 
 "standard": "Yes"
}